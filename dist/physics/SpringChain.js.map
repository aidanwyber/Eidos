{"version":3,"file":"SpringChain.js","sourceRoot":"","sources":["../../src/physics/SpringChain.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,SAAS,CAAC;AAE1D,MAAM,OAAO,WAAW;IACvB,SAAS,CAAa;IAEtB,YACC,OAAsB,EACtB,aAAuB,EACvB,GAAQ,EACR,MAAc,EACd,YAAoB,EACpB,CAAS;QAET,IAAI,CAAC,SAAS,GAAG,CAAC,aAAa,CAAC,CAAC;QACjC,MAAM,aAAa,GAAG,MAAM,GAAG,YAAY,CAAC;QAC5C,MAAM,aAAa,GAAG,GAAG,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;QAE/C,IAAI,YAAY,GAAG,aAAa,CAAC;QACjC,OAAO,CAAC,WAAW,CAAC,aAAa,CAAC,CAAC;QACnC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,EAAE,CAAC,EAAE,EAAE,CAAC;YACvC,IAAI,CAAC,GAAG,IAAI,QAAQ,CAAC,YAAY,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,CAAC;YACtD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACvB,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC;YACvB,YAAY,GAAG,CAAC,CAAC;QAClB,CAAC;QAED,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;YACpD,IAAI,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,CAAa,CAAC;YACvC,IAAI,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,CAAC,GAAG,CAAC,CAAa,CAAC;YAC3C,IAAI,MAAM,CAAC,EAAE,EAAE,EAAE,EAAE,aAAa,EAAE,CAAC,CAAC,CAAC;QACtC,CAAC;IACF,CAAC;CASD","sourcesContent":["import type { Vec } from '../geom/Vec';\r\nimport { PhysicsEngine, Spring, Particle } from './index';\r\n\r\nexport class SpringChain {\r\n\tparticles: Particle[];\r\n\r\n\tconstructor(\r\n\t\tphysics: PhysicsEngine,\r\n\t\tfirstParticle: Particle,\r\n\t\tdir: Vec,\r\n\t\tlength: number,\r\n\t\tsegmentCount: number,\r\n\t\tk: number\r\n\t) {\r\n\t\tthis.particles = [firstParticle];\r\n\t\tconst segmentLength = length / segmentCount;\r\n\t\tconst segmentVector = dir.scale(segmentLength);\r\n\r\n\t\tlet lastParticle = firstParticle;\r\n\t\tphysics.addParticle(firstParticle);\r\n\t\tfor (let i = 0; i < segmentCount; i++) {\r\n\t\t\tlet p = new Particle(lastParticle.add(segmentVector));\r\n\t\t\tthis.particles.push(p);\r\n\t\t\tphysics.addParticle(p);\r\n\t\t\tlastParticle = p;\r\n\t\t}\r\n\r\n\t\tfor (let i = 0; i < this.particles.length - 1; i++) {\r\n\t\t\tlet pi = this.particles[i] as Particle;\r\n\t\t\tlet pn = this.particles[i + 1] as Particle;\r\n\t\t\tnew Spring(pi, pn, segmentLength, k);\r\n\t\t}\r\n\t}\r\n\r\n\t// draw() {\r\n\t// \tbeginShape();\r\n\t// \tfor (let p of this.particles) {\r\n\t// \t\tvertex(p.x, p.y);\r\n\t// \t}\r\n\t// \tendShape();\r\n\t// }\r\n}\r\n"]}